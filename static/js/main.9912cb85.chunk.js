(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(1308)},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},1287:function(e,t,a){},1289:function(e,t,a){},1291:function(e,t,a){},1299:function(e,t,a){},1301:function(e,t,a){},1303:function(e,t,a){},1305:function(e,t,a){e.exports=a.p+"static/media/loading.e141bc5c.gif"},1306:function(e,t,a){},1308:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(97),c=a.n(i),s=(a(108),a(110),a(112),a(114),a(24)),l=a(25),o=a(101),m=a(98),u=a(102),v=(a(116),a(26)),d=a(13),h=a.n(d),f=a(99),g=a.n(f);var E=[1e3,5e3],p=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;if(Object(s.a)(this,e),this.isStreaming=!1,this.handlers=[],!g()(t))throw new Error("Streamer: Data generator must be a factory function");this.generator=t,this.timeRange=a}return Object(l.a)(e,[{key:"start",value:function(){this.isStreaming=!0,this.runTriggers()}},{key:"stop",value:function(){this.isStreaming=!1}},{key:"runTriggers",value:function(){var e=this,t=Object(v.a)(this.timeRange,2),a=t[0],n=t[1],r=h.a.random.number({min:a,max:n});setTimeout(function(){e.isStreaming&&(e.trigger(),e.runTriggers())},r)}},{key:"subscribe",value:function(e){this.handlers.push(e)}},{key:"removeHandler",value:function(e){this.handlers=this.handlers.filter(function(t){return t!==e})}},{key:"trigger",value:function(){var e=this.generator();this.handlers.forEach(function(t){return t(e)})}}]),e}();function N(){return h.a.random.number({min:0,max:25,precision:1e-9}).toFixed(9)}function b(){return h.a.random.number({min:0,max:1,precision:.01}).toFixed(2)}var w=a(8),y=a(12),k=a.n(y);a(1287);var W=function(e){var t=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement("input",Object.assign({type:"text"},a,{className:k()("input",t)}))};a(1289);function j(e){var t=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement("button",Object.assign({},a,{className:k()(t,"button")}))}a(1291);var O=a(100),S=a.n(O);a(1299);var V=function(e){e.type;var t=e.children,a=Object(w.a)(e,["type","children"]);return r.a.createElement("label",{className:"checkbox-label"},r.a.createElement(S.a,Object.assign({},a,{icons:!1})),r.a.createElement("span",{className:"label"},t))},x=function(e){var t=e.vins,a=e.onVinWatchChange;return r.a.createElement("div",{className:"vin-list"},t.map(function(e,t){return r.a.createElement(V,{key:t,checked:e.isWatching,onChange:function(){return a(t)}},e.vin)}))},C=(a(1301),function(e){var t=e.percent;return r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"bar",style:{width:"".concat(t,"%")}}))}),F=(a(1303),function(e){var t=e.vin,n=t.carData;return r.a.createElement("div",{className:"car-list-item animated fadeIn"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"fas fa-car-side"}),r.a.createElement("span",null,"VIN:"),r.a.createElement("span",{className:"t-bold"},t.vin)),r.a.createElement("div",{className:"content"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"car-data"},r.a.createElement("div",{className:"detail"},r.a.createElement("i",{className:"fas fa-gas-pump"}),r.a.createElement("div",{className:"t-sm t-bold"},"Fuel level"),r.a.createElement("div",{className:"t-sm"},Math.floor(100*n.fuel),"%"),r.a.createElement(C,{percent:100*n.fuel})),r.a.createElement("div",{className:"detail"},r.a.createElement("i",{className:"fas fa-tint"}),r.a.createElement("div",{className:"t-sm t-bold"},"Wiper fluid"),r.a.createElement("div",{className:"t-sm"},Math.floor(100*n.wiperFluid),"%"),r.a.createElement(C,{percent:100*n.wiperFluid}))),r.a.createElement("div",{className:"location"},r.a.createElement("i",{className:"fas fa-car-side",style:{position:"absolute",transition:"all 5000ms",top:"".concat(n.location.lat,"%"),left:"".concat(n.location.lng,"%")}}))):r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:a(1305),height:"80",alt:""}))))}),D=(a(1306),function(e){var t=e.vins,a=Object(n.useState)(!1),i=Object(v.a)(a,2),c=i[0],s=i[1],l=function(){return t.filter(function(e){return e.isWatching})},o=function(){return c?l().filter(function(e){return e.carData&&e.carData.fuel<.15}):l()};return r.a.createElement("div",{className:"car-list"},r.a.createElement("div",{className:"header"},r.a.createElement(V,{checked:c,onChange:function(){return s(!c)}},"Filter Events where fuel level is under 15%")),r.a.createElement("div",{className:"list"},t.length?o().map(function(e,t){return r.a.createElement(F,{key:t,vin:e})}):"No cars added."))}),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={vin:"",vins:[],error:""},a.createStreamer=function(e){var t,n=new p(function(){return function(e){return{vin:e,timestamp:(new Date).getTime(),fuel:b(),wiperFluid:b(),location:{lat:N(),lng:N()}}}(e)},t);return n.subscribe(a.updateState),n.start(),n},a.updateState=function(e){var t=a.state.vins,n=t.findIndex(function(t){return t.vin===e.vin});t[n].carData=e,a.setState({vins:t})},a.handleVinChange=function(e){var t=e.target;a.setState({vin:t.value})},a.handleAddVin=function(){if(a.isValid()){var e=a.state,t=e.vin,n=e.vins,r=a.createStreamer(t);n.push({vin:t,isWatching:!0,streamer:r}),a.setState({vin:"",vins:n,error:""})}},a.toggleWatch=function(e,t){t?e.start():e.stop()},a.handleVinWatchingChange=function(e){var t=a.state.vins,n=t[e];n.isWatching=!n.isWatching,a.toggleWatch(n.streamer,n.isWatching),a.setState({vins:t})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){var e=this.state,t=e.vin,a=e.vins,n=t.trim(),r=!0;return(!n.length||n.length<5)&&(this.setState({error:"Vin must be atleast 5 characters."}),r=!1),a.find(function(e){return e.vin===n})&&(this.setState({error:"You've already added this vin."}),r=!1),r}},{key:"render",value:function(){var e=this.state,t=e.vin,a=e.vins;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"fas fa-3x fa-car"}),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Welcome to"),r.a.createElement("span",null,"VIN Watcher"))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"vins-container"},r.a.createElement("div",{className:"add-vin-input"},r.a.createElement(W,{value:t,onChange:this.handleVinChange,placeholder:"Enter vin"}),r.a.createElement(j,{onClick:this.handleAddVin},"Add VIN"),r.a.createElement("span",{className:"error"},this.state.error)),r.a.createElement(x,{vins:a,onVinWatchChange:this.handleVinWatchingChange})),r.a.createElement("div",{className:"cars-container"},r.a.createElement(D,{vins:a}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.9912cb85.chunk.js.map